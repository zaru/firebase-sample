<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h1>Welcome to My Awesome App</h1>
  <div id="firebaseui-auth-container"></div>
  <div id="loader">Loading...</div>


  <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-messaging.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyDzFk3TvZ0fzD_HyqBJncQTwTLZDq1KWp4",
      authDomain: "fir-sample-f0555.firebaseapp.com",
      databaseURL: "https://fir-sample-f0555.firebaseio.com",
      projectId: "fir-sample-f0555",
      storageBucket: "fir-sample-f0555.appspot.com",
      messagingSenderId: "356388816573"
    };
    firebase.initializeApp(config);
  </script>

  <script src="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css" />
  <script>
    var ui = new firebaseui.auth.AuthUI(firebase.auth());
    var uiConfig = {
      callbacks: {
        signInSuccess: function(currentUser, credential, redirectUrl) {
          console.log(currentUser);
          console.log(credential);
          console.log(redirectUrl);
          // デバッグ用 : リダイレクトさせない
          return false;
        },
        uiShown: function() {
          document.getElementById('loader').style.display = 'none';
        }
      },
      signInFlow: 'popup',
      signInSuccessUrl: '/',
      signInOptions: [
        firebase.auth.TwitterAuthProvider.PROVIDER_ID,
      ],
      tosUrl: 'https://firebase.google.com/docs/auth/web/firebaseui?hl=ja'
    };

    ui.start('#firebaseui-auth-container', uiConfig);
  </script>
</body>
</html>
